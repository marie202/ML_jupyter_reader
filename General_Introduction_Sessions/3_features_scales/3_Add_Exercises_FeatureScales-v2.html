

<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Additional Exercises III - Feature Scales &#8212; My sample book</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/sphinx-book-theme.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'General_Introduction_Sessions/3_features_scales/3_Add_Exercises_FeatureScales-v2';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="prev" title="3. Feature Scales" href="3_Feature_scales.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/logo.png" class="logo__image only-light" alt="My sample book - Home"/>
    <script>document.write(`<img src="../../_static/logo.png" class="logo__image only-dark" alt="My sample book - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../intro.html">
                    Welcome to your Jupyter Book
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Intro to Python</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../1_Introduction_to_Python/1_1_Python_as_calculator.html">Introduction to Python - Using Python as calculator</a></li>

<li class="toctree-l1"><a class="reference internal" href="../1_Introduction_to_Python/1_2_Build_in_Functions.html">Use of predefined functions</a></li>


<li class="toctree-l1"><a class="reference internal" href="../1_Introduction_to_Python/1_3_data_structures.html">Data structures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../1_Introduction_to_Python/1_4_atomic_datatypes.html">Datatypes</a></li>

<li class="toctree-l1"><a class="reference internal" href="../1_Introduction_to_Python/1_5_objects_data_types.html">9. The concept of objects in Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../1_Introduction_to_Python/1_6_Intro_user_defined_functions.html">User defined functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../1_Introduction_to_Python/1_7_control_flow_mit_Lsg.html">Steering the control flow of a program</a></li>
<li class="toctree-l1"><a class="reference internal" href="../1_Introduction_to_Python/1_8_Exercises_Einf_Python_I.html">Additional Exercises I</a></li>

<li class="toctree-l1"><a class="reference internal" href="../1_Introduction_to_Python/1_9_Exercises_Einf_Python_II.html">Additional Exercises II</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Recap Statistics</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../2_NVT/2_1_Wdhl_Statisitk_1.html">Recap Statistics 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../2_NVT/2_2_Add_Exercises_NVT.html">Additional Exercises III -  The Normal distribution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../4_intro_regression/4_Intro_Regression.html">What we have learnt so far:</a></li>



<li class="toctree-l1"><a class="reference internal" href="../5_intro_correlation/5_intro_regression%26correlation_LSG.html">What we have learnt so far:</a></li>



</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Feature Scales</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="3_Feature_scales.html">3. Feature Scales</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Additional Exercises III -  Feature Scales</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2FGeneral_Introduction_Sessions/3_features_scales/3_Add_Exercises_FeatureScales-v2.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/General_Introduction_Sessions/3_features_scales/3_Add_Exercises_FeatureScales-v2.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Additional Exercises III -  Feature Scales</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#an-arbitrary-example">1. An Arbitrary Example</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#calculate-the-mean-and-plotting">1.1. Calculate the mean and Plotting</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#solution">solution</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#noticing-the-bounds-and-resolving-them">1.2. Noticing the bounds and resolving them</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#min-max-scaling">1.2.1. Min-Max-Scaling</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">solution</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#perform-a-logistic-transformation-on-x-0-1">1.2.2. Perform a logistic transformation on x′∈]0,1[ℝ</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">solution</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#backtransform">1.3. Backtransform</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">solution</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#working-with-real-data">2. Working with real Data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dwd-data">DWD data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#subsetting-the-data-frame">2.1. Subsetting the data frame</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">solution</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#checking-for-normality">2.2. Checking for Normality</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">solution</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#transforming-the-data">2.3. Transforming the Data</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">solution</a></li>
</ul>
</li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="additional-exercises-iii-feature-scales">
<h1>Additional Exercises III -  Feature Scales<a class="headerlink" href="#additional-exercises-iii-feature-scales" title="Permalink to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">load_ext</span> lab_black
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># First, let&#39;s import all the needed libraries.</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
</pre></div>
</div>
</div>
</div>
<div class="math notranslate nohighlight">
\[\log {_2}{64} = 6 \]</div>
<div class="math notranslate nohighlight">
\[\log {_{10}}{1000} =  3 \]</div>
<div class="math notranslate nohighlight">
\[\log {_3}{27} = 3 \]</div>
<div class="math notranslate nohighlight">
\[9^{0.5} = 3\]</div>
<div class="math notranslate nohighlight">
\[64^\frac{1}{6} = 2\]</div>
<div class="math notranslate nohighlight">
\[8^0 = 1\]</div>
<div class="math notranslate nohighlight">
\[\log{\frac{a}{b}}    \]</div>
<div class="math notranslate nohighlight">
\[2 * \log{{b}}    \]</div>
<div class="math notranslate nohighlight">
\[\frac{1}{3}    \]</div>
<section id="an-arbitrary-example">
<h2>1. An Arbitrary Example<a class="headerlink" href="#an-arbitrary-example" title="Permalink to this heading">#</a></h2>
<p><a class="reference external" href="https://www.geo.fu-berlin.de/en/v/soga-r/Advances-statistics/Feature-scales/real_world_challenges/index.html">Inspired by Soga FU Berlin</a></p>
<p>Take a closer look at this hypothetical example of a survey among students. In this survey, students were asked how important they consider practice exercises to be for their own learning success. 1 is not important at all and 10 is extremely important. A total of 254 students were surveyed.
After the analysis, the following results are presented in %:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## poll results as dictionary</span>
<span class="n">poll</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;score&quot;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
    <span class="s2">&quot;percent&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mf">16.4</span><span class="p">,</span> <span class="mi">12</span><span class="p">],</span>
<span class="p">}</span>

<span class="c1">## convert to pandas</span>
<span class="n">poll</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">poll</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">poll</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>   score  percent
0      1      1.0
1      2      0.2
2      3      0.0
3      4      3.0
4      5      7.0
5      6      8.0
6      7     20.0
7      8     32.0
8      9     16.4
9     10     12.0
</pre></div>
</div>
</div>
</div>
<section id="calculate-the-mean-and-plotting">
<h3>1.1. Calculate the mean and Plotting<a class="headerlink" href="#calculate-the-mean-and-plotting" title="Permalink to this heading">#</a></h3>
<p>Plot the data as a bar plot and calculate the mean of the survey results. Do you notice anything unusual about the data and the statistical parameters?
Reconstruct the data and calculate the mean!</p>
<section id="solution">
<h4>solution<a class="headerlink" href="#solution" title="Permalink to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## reconstructing the data</span>
<span class="n">n</span> <span class="o">=</span> <span class="mi">254</span>
<span class="n">absolute_votes</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span>
    <span class="n">poll</span><span class="o">.</span><span class="n">percent</span> <span class="o">/</span> <span class="mi">100</span> <span class="o">*</span> <span class="n">n</span>
<span class="p">)</span>  <span class="c1"># convert percentage to abosulte numbers and round to have full people --&gt; induces uncertainty</span>

<span class="c1">## no a small loop</span>
<span class="n">poll_raw</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">x</span><span class="p">,</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">poll</span><span class="o">.</span><span class="n">score</span><span class="p">,</span> <span class="n">absolute_votes</span><span class="p">):</span>
    <span class="n">interim</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
    <span class="n">poll_raw</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">interim</span><span class="p">)</span>
<span class="n">poll_raw</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">poll_raw</span><span class="p">)</span>

<span class="c1"># get the mean</span>

<span class="n">mean</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">poll_raw</span><span class="p">)</span>
<span class="n">mean</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>7.5984251968503935
</pre></div>
</div>
</div>
</div>
<p>We have  a second option here to calculate the mean:</p>
<ol class="arabic simple">
<li><p>The weighted mean (since we are dealing with percentage data here).
$<span class="math notranslate nohighlight">\( 
\bar x_w = \frac{\sum_{i=1}^n w_ix_i
}{\sum_{i=1}^n w_i}
\)</span>$</p></li>
</ol>
<p>wi = weights (percentages) , xi = scores</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">weighted_mean</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">poll</span><span class="p">[</span><span class="s2">&quot;score&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="n">poll</span><span class="p">[</span><span class="s2">&quot;percent&quot;</span><span class="p">])</span> <span class="o">/</span> <span class="nb">sum</span><span class="p">(</span><span class="n">poll</span><span class="p">[</span><span class="s2">&quot;percent&quot;</span><span class="p">])</span>
<span class="n">weighted_mean</span>

<span class="c1">## is slightly different because of our prior rounding --&gt; but very similar</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>7.630522088353414
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">poll</span><span class="o">.</span><span class="n">score</span><span class="p">,</span> <span class="n">poll</span><span class="o">.</span><span class="n">percent</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;green&quot;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="n">mean</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">)</span>  <span class="c1">## add the mean to the plot</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/58b4738b068166923ebc8431465ec8129c4c087c79aa77474bb35a317986188f.png" src="../../_images/58b4738b068166923ebc8431465ec8129c4c087c79aa77474bb35a317986188f.png" />
</div>
</div>
<p>Have you noticed it already? Lets have a closer look, since the figure contains a lot of information:</p>
<ol class="arabic simple">
<li><p>The absolute majority voted on the upper part of the scale</p></li>
<li><p>Only 3 individual voted “not important at all” (0 or 1)</p></li>
<li><p>Nearly one third voted for the third highest value (8)</p></li>
<li><p>60% voted for levels ≥8</p></li>
<li><p>A “Score” reports a value of ~7.6 which is below 8 !!</p></li>
</ol>
<p><strong>Why is the mean as measure of central tendency smaller than the values of 60% of the voters?</strong></p>
<blockquote>
<div><p>We can exclude several phenomena for this weird poll outcome as shown <a class="reference external" href="https://www.geo.fu-berlin.de/en/v/soga-r/Advances-statistics/Feature-scales/real_world_challenges/index.html">here</a></p>
<p>What is the reason?</p>
</div></blockquote>
</section>
</section>
<section id="noticing-the-bounds-and-resolving-them">
<h3>1.2. Noticing the bounds and resolving them<a class="headerlink" href="#noticing-the-bounds-and-resolving-them" title="Permalink to this heading">#</a></h3>
<p>Calcuting the arithmetic mean seems to be unsufficient here, but why? Lets think about the margins the people were allowed to vote in between. What the upper and the lower bound ?</p>
<p>Ok Ok, may be a bit trivial here, but:</p>
<p>Choosing one number is related to two information:</p>
<ul class="simple">
<li><p>the distance to the lower margin and (0)</p></li>
<li><p>the distance to the upper margin! (10)</p></li>
</ul>
<p>Both distances are sum up to the width of the interval. Hereby, neither the margins themselves nor the width of the interval are important. Only the amount of possible eligible numbers influences the resolution of the measure.</p>
<p>Thus, any number reflects a relative measure towards the margins and can therefore be transformed to a standard interval as [0,1] or [0,100%].</p>
<p>However, for a meaningful examination of the constraint values, we should focus on the relation of both equal important measures, e.g. for [0,1].</p>
<p>In our case, we applay logistic transformation resp. logit, as we already saw in the seminar (sea ice example):</p>
<div class="math notranslate nohighlight">
\[
x\to x'=log\left(
\frac{x}{1-x}\right)\]</div>
<p>The back transformation is the “logistic” function resp. inverse logit:
$<span class="math notranslate nohighlight">\(
x'
\to x=\frac{e^{x'}}{1+e^{x'}}\)</span>$</p>
<p>Nice, we just follow our recipe then! Apply the transformation to our poll data!</p>
<section id="min-max-scaling">
<h4>1.2.1. Min-Max-Scaling<a class="headerlink" href="#min-max-scaling" title="Permalink to this heading">#</a></h4>
<p>But before we start we have to enlarge our interval by a small constant c to avoid zeros when the original margin has been voted.
Set a small constant c for min-max-Transformation into the simplex:</p>
<p>The min-max scaling</p>
<div class="math notranslate nohighlight">
\[x'=\frac{x-x_{min}}{x_{max}-x_{min}}\]</div>
<p>transforms the data into the range <span class="math notranslate nohighlight">\([0,1]\)</span>. We want to avoid getting values with 0, because in the second step we need the logarithm of the values. Therefore, we use slightly larger boundary values <span class="math notranslate nohighlight">\(x_{min}-1\)</span> and <span class="math notranslate nohighlight">\(x_{max}+1\)</span>. Thus</p>
<div class="math notranslate nohighlight">
\[x'=\frac{x-x_{min}+1}{x_{max}-x_{min}+2\, .}\]</div>
<section id="id1">
<h5>solution<a class="headerlink" href="#id1" title="Permalink to this heading">#</a></h5>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># set a small constant c to avoid zeros:</span>
<span class="n">c</span> <span class="o">=</span> <span class="mf">0.01</span>
<span class="c1"># min-max-transformation</span>
<span class="n">min_max_poll</span> <span class="o">=</span> <span class="p">(</span><span class="n">poll_raw</span> <span class="o">-</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">c</span><span class="p">))</span> <span class="o">/</span> <span class="p">(</span><span class="mi">10</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">c</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="perform-a-logistic-transformation-on-x-0-1">
<h4>1.2.2. Perform a logistic transformation on x′∈]0,1[ℝ<a class="headerlink" href="#perform-a-logistic-transformation-on-x-0-1" title="Permalink to this heading">#</a></h4>
<div class="math notranslate nohighlight">
\[
x\to x'=log\left(
\frac{x}{1-x}\right)\]</div>
<p>Perform a logistic transformation on x′∈]0,1[ℝ</p>
<p>Plot the data again as histogram, how does the distribution look now?</p>
<p>Then we can calculate the desired parameters agaiin (e.g., mean, median …)!</p>
<section id="id2">
<h5>solution<a class="headerlink" href="#id2" title="Permalink to this heading">#</a></h5>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># logistic transformation</span>
<span class="n">poll_log</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">min_max_poll</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">min_max_poll</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## lets plot again</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">poll_log</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/117acae74f7a42d3794a89df697be3858bcc61803b1f081471830f2ff5dcb2e5.png" src="../../_images/117acae74f7a42d3794a89df697be3858bcc61803b1f081471830f2ff5dcb2e5.png" />
</div>
</div>
<p>Looks alot less skewed!</p>
<p>lets calculate the mean again:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m_log</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">poll_log</span><span class="p">)</span>
<span class="n">med_log</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">median</span><span class="p">(</span><span class="n">poll_log</span><span class="p">)</span>

<span class="c1">## and in addition the confidence bounds, this is just an extra here !</span>
<span class="n">CI_low</span> <span class="o">=</span> <span class="n">m_log</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">poll_log</span><span class="p">)</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">poll_log</span><span class="p">))</span>
<span class="n">CI_up</span> <span class="o">=</span> <span class="n">m_log</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">poll_log</span><span class="p">)</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">poll_log</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="backtransform">
<h3>1.3. Backtransform<a class="headerlink" href="#backtransform" title="Permalink to this heading">#</a></h3>
<p>Transform these paramters back by applying exponential function. Have we resolved this issue now?</p>
<section id="id3">
<h4>solution<a class="headerlink" href="#id3" title="Permalink to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">corrected_mean</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">c</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="mi">9</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">c</span><span class="p">)</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">m_log</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">m_log</span><span class="p">))</span>
<span class="n">corrected_median</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">c</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="mi">9</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">c</span><span class="p">)</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">med_log</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">med_log</span><span class="p">))</span>
<span class="n">corrected_CI_low</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">c</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="mi">9</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">c</span><span class="p">)</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">CI_low</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">CI_low</span><span class="p">))</span>
<span class="n">corrected_CI_up</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">c</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="mi">9</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">c</span><span class="p">)</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">CI_up</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">CI_up</span><span class="p">))</span>


<span class="nb">print</span><span class="p">(</span>
    <span class="sa">f</span><span class="s2">&quot;corrected mean =&quot;</span><span class="p">,</span>
    <span class="p">{</span><span class="nb">round</span><span class="p">(</span><span class="n">corrected_mean</span><span class="p">,</span> <span class="mi">2</span><span class="p">)},</span>
    <span class="s2">&quot;corrected median=&quot;</span><span class="p">,</span>
    <span class="p">{</span><span class="nb">round</span><span class="p">(</span><span class="n">corrected_median</span><span class="p">,</span> <span class="mi">2</span><span class="p">)},</span>
    <span class="s2">&quot;confidence interval=[&quot;</span><span class="p">,</span>
    <span class="p">{</span><span class="nb">round</span><span class="p">(</span><span class="n">corrected_CI_low</span><span class="p">,</span> <span class="mi">2</span><span class="p">)},</span>
    <span class="s2">&quot;,&quot;</span><span class="p">,</span>
    <span class="p">{</span><span class="nb">round</span><span class="p">(</span><span class="n">corrected_CI_up</span><span class="p">,</span> <span class="mi">2</span><span class="p">)},</span>
    <span class="s2">&quot;]&quot;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>corrected mean = {8.46} corrected median= {8.0} confidence interval=[ {8.28} , {8.63} ]
</pre></div>
</div>
</div>
</div>
<p>We not only get a reasonable mean, the confidence bounds are asymmetric as it should be for skewed distributions.
Furthermore, these transformations have not influenced the median! (As it should be!)</p>
</section>
</section>
</section>
<section id="working-with-real-data">
<h2>2. Working with real Data<a class="headerlink" href="#working-with-real-data" title="Permalink to this heading">#</a></h2>
<section id="dwd-data">
<h3>DWD data<a class="headerlink" href="#dwd-data" title="Permalink to this heading">#</a></h3>
<p>We begin by loading the meteorological data set from the <a class="reference external" href="https://opendata.dwd.de/climate_environment/CDC/observations_germany/climate/monthly/kl/historical/">Deutscher Wetterdienst DWD (German Weather Service) Open Climate Data Center </a>. You find a documentation of this data in <a class="reference external" href="https://opendata.dwd.de/climate_environment/CDC/observations_germany/climate/monthly/kl/historical/BESCHREIBUNG_obsgermany_climate_monthly_kl_historical_de.pdf">german</a> and  <a class="reference external" href="https://opendata.dwd.de/climate_environment/CDC/observations_germany/climate/monthly/kl/historical/DESCRIPTION_obsgermany_climate_monthly_kl_historical_en.pdf">english</a>.</p>
<p>We will reuse this data from the prior exercise.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dahlem_clim</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span>
    <span class="s2">&quot;https://userpage.fu-berlin.de/soga/data/raw-data/NS_TS_Dahlem.txt&quot;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;;&quot;</span>
<span class="p">)</span>
<span class="n">dahlem_clim</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>STATIONS_ID</th>
      <th>MESS_DATUM_BEGINN</th>
      <th>MESS_DATUM_ENDE</th>
      <th>QN_4</th>
      <th>MO_N</th>
      <th>MO_TT</th>
      <th>MO_TX</th>
      <th>MO_TN</th>
      <th>MO_FK</th>
      <th>MX_TX</th>
      <th>MX_FX</th>
      <th>MX_TN</th>
      <th>MO_SD_S</th>
      <th>QN_6</th>
      <th>MO_RR</th>
      <th>MX_RS</th>
      <th>eor</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>403</td>
      <td>17190101</td>
      <td>17190131</td>
      <td>5</td>
      <td>-999.0</td>
      <td>2.8</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>-999</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>eor</td>
    </tr>
    <tr>
      <th>1</th>
      <td>403</td>
      <td>17190201</td>
      <td>17190228</td>
      <td>5</td>
      <td>-999.0</td>
      <td>1.1</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>-999</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>eor</td>
    </tr>
    <tr>
      <th>2</th>
      <td>403</td>
      <td>17190301</td>
      <td>17190331</td>
      <td>5</td>
      <td>-999.0</td>
      <td>5.2</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>-999</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>eor</td>
    </tr>
    <tr>
      <th>3</th>
      <td>403</td>
      <td>17190401</td>
      <td>17190430</td>
      <td>5</td>
      <td>-999.0</td>
      <td>9.0</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>-999</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>eor</td>
    </tr>
    <tr>
      <th>4</th>
      <td>403</td>
      <td>17190501</td>
      <td>17190531</td>
      <td>5</td>
      <td>-999.0</td>
      <td>15.1</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>-999</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>eor</td>
    </tr>
    <tr>
      <th>5</th>
      <td>403</td>
      <td>17190601</td>
      <td>17190630</td>
      <td>5</td>
      <td>-999.0</td>
      <td>19.0</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>-999</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>eor</td>
    </tr>
    <tr>
      <th>6</th>
      <td>403</td>
      <td>17190701</td>
      <td>17190731</td>
      <td>5</td>
      <td>-999.0</td>
      <td>21.4</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>-999</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>eor</td>
    </tr>
    <tr>
      <th>7</th>
      <td>403</td>
      <td>17190801</td>
      <td>17190831</td>
      <td>5</td>
      <td>-999.0</td>
      <td>18.8</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>-999</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>eor</td>
    </tr>
    <tr>
      <th>8</th>
      <td>403</td>
      <td>17190901</td>
      <td>17190930</td>
      <td>5</td>
      <td>-999.0</td>
      <td>13.9</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>-999</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>eor</td>
    </tr>
    <tr>
      <th>9</th>
      <td>403</td>
      <td>17191001</td>
      <td>17191031</td>
      <td>5</td>
      <td>-999.0</td>
      <td>9.0</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>-999</td>
      <td>-999.0</td>
      <td>-999.0</td>
      <td>eor</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="subsetting-the-data-frame">
<h3>2.1. Subsetting the data frame<a class="headerlink" href="#subsetting-the-data-frame" title="Permalink to this heading">#</a></h3>
<p>First, we want to subset the entire dataset.</p>
<blockquote>
<div><p>We only want to keep data from 1961 to today. Subset the entire dataset (not only 1 column as we saw in the seminar)!</p>
<p>How many rows has the dataframe now?</p>
</div></blockquote>
<section id="id4">
<h4>solution<a class="headerlink" href="#id4" title="Permalink to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## you could do e.g.,:</span>
<span class="n">dahlem_clim</span> <span class="o">=</span> <span class="n">dahlem_clim</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">dahlem_clim</span><span class="p">[</span><span class="s2">&quot;MESS_DATUM_BEGINN&quot;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">19610101</span><span class="p">]</span>
<span class="n">dahlem_clim</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>STATIONS_ID</th>
      <th>MESS_DATUM_BEGINN</th>
      <th>MESS_DATUM_ENDE</th>
      <th>QN_4</th>
      <th>MO_N</th>
      <th>MO_TT</th>
      <th>MO_TX</th>
      <th>MO_TN</th>
      <th>MO_FK</th>
      <th>MX_TX</th>
      <th>MX_FX</th>
      <th>MX_TN</th>
      <th>MO_SD_S</th>
      <th>QN_6</th>
      <th>MO_RR</th>
      <th>MX_RS</th>
      <th>eor</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2778</th>
      <td>403</td>
      <td>19610101</td>
      <td>19610131</td>
      <td>5</td>
      <td>5.01</td>
      <td>-1.02</td>
      <td>1.31</td>
      <td>-3.88</td>
      <td>2.63</td>
      <td>7.8</td>
      <td>-999.0</td>
      <td>-16.2</td>
      <td>71.5</td>
      <td>5</td>
      <td>50.4</td>
      <td>7.4</td>
      <td>eor</td>
    </tr>
    <tr>
      <th>2779</th>
      <td>403</td>
      <td>19610201</td>
      <td>19610228</td>
      <td>5</td>
      <td>6.12</td>
      <td>4.66</td>
      <td>7.98</td>
      <td>1.56</td>
      <td>2.56</td>
      <td>15.5</td>
      <td>-999.0</td>
      <td>-4.7</td>
      <td>61.4</td>
      <td>5</td>
      <td>41.9</td>
      <td>7.6</td>
      <td>eor</td>
    </tr>
    <tr>
      <th>2780</th>
      <td>403</td>
      <td>19610301</td>
      <td>19610331</td>
      <td>5</td>
      <td>5.58</td>
      <td>6.79</td>
      <td>10.79</td>
      <td>3.15</td>
      <td>3.02</td>
      <td>19.4</td>
      <td>-999.0</td>
      <td>-3.7</td>
      <td>124.1</td>
      <td>5</td>
      <td>52.9</td>
      <td>18.6</td>
      <td>eor</td>
    </tr>
    <tr>
      <th>2781</th>
      <td>403</td>
      <td>19610401</td>
      <td>19610430</td>
      <td>5</td>
      <td>4.88</td>
      <td>11.38</td>
      <td>16.61</td>
      <td>6.24</td>
      <td>2.40</td>
      <td>26.1</td>
      <td>-999.0</td>
      <td>-0.9</td>
      <td>192.7</td>
      <td>5</td>
      <td>55.7</td>
      <td>13.3</td>
      <td>eor</td>
    </tr>
    <tr>
      <th>2782</th>
      <td>403</td>
      <td>19610501</td>
      <td>19610531</td>
      <td>5</td>
      <td>6.11</td>
      <td>11.23</td>
      <td>15.54</td>
      <td>7.18</td>
      <td>2.29</td>
      <td>23.8</td>
      <td>-999.0</td>
      <td>3.0</td>
      <td>132.8</td>
      <td>5</td>
      <td>120.1</td>
      <td>26.7</td>
      <td>eor</td>
    </tr>
    <tr>
      <th>2783</th>
      <td>403</td>
      <td>19610601</td>
      <td>19610630</td>
      <td>5</td>
      <td>4.39</td>
      <td>17.73</td>
      <td>23.18</td>
      <td>11.47</td>
      <td>2.12</td>
      <td>30.4</td>
      <td>-999.0</td>
      <td>5.5</td>
      <td>273.4</td>
      <td>5</td>
      <td>48.3</td>
      <td>13.4</td>
      <td>eor</td>
    </tr>
    <tr>
      <th>2784</th>
      <td>403</td>
      <td>19610701</td>
      <td>19610731</td>
      <td>5</td>
      <td>5.79</td>
      <td>16.16</td>
      <td>20.88</td>
      <td>12.14</td>
      <td>2.49</td>
      <td>33.0</td>
      <td>-999.0</td>
      <td>8.8</td>
      <td>143.2</td>
      <td>5</td>
      <td>72.6</td>
      <td>13.2</td>
      <td>eor</td>
    </tr>
    <tr>
      <th>2785</th>
      <td>403</td>
      <td>19610801</td>
      <td>19610831</td>
      <td>5</td>
      <td>5.34</td>
      <td>15.97</td>
      <td>21.20</td>
      <td>11.40</td>
      <td>2.40</td>
      <td>28.5</td>
      <td>-999.0</td>
      <td>8.0</td>
      <td>169.7</td>
      <td>5</td>
      <td>43.0</td>
      <td>10.3</td>
      <td>eor</td>
    </tr>
    <tr>
      <th>2786</th>
      <td>403</td>
      <td>19610901</td>
      <td>19610930</td>
      <td>5</td>
      <td>3.48</td>
      <td>15.95</td>
      <td>22.00</td>
      <td>11.06</td>
      <td>2.11</td>
      <td>30.0</td>
      <td>-999.0</td>
      <td>4.4</td>
      <td>201.7</td>
      <td>5</td>
      <td>35.5</td>
      <td>12.1</td>
      <td>eor</td>
    </tr>
    <tr>
      <th>2787</th>
      <td>403</td>
      <td>19611001</td>
      <td>19611031</td>
      <td>5</td>
      <td>4.77</td>
      <td>11.10</td>
      <td>15.54</td>
      <td>7.26</td>
      <td>2.39</td>
      <td>22.3</td>
      <td>-999.0</td>
      <td>3.3</td>
      <td>136.8</td>
      <td>5</td>
      <td>35.7</td>
      <td>16.4</td>
      <td>eor</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dahlem_clim</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># number of rows</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>732
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="checking-for-normality">
<h3>2.2. Checking for Normality<a class="headerlink" href="#checking-for-normality" title="Permalink to this heading">#</a></h3>
<p>We want to work with the precipitation sum per month in mm now. Its written the the <code class="docutils literal notranslate"><span class="pre">MO_RR</span></code> column.
Plot the distribution as histogram or density plot and a QQ-plot to visually check for normal distribution (solution the same as the prior exercise). Do mean and standard deviation violate the 3-sigma rule?</p>
<section id="id5">
<h4>solution<a class="headerlink" href="#id5" title="Permalink to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">dahlem_clim</span><span class="o">.</span><span class="n">MO_RR</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="s2">&quot;sturges&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;lightblue&quot;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s2">&quot;grey&quot;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/70765e2a0f5a99d79a130929538e4ea2aea9c7a6f982fbe3f07f1f8aa18f1b81.png" src="../../_images/70765e2a0f5a99d79a130929538e4ea2aea9c7a6f982fbe3f07f1f8aa18f1b81.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">statsmodels.api</span> <span class="k">as</span> <span class="nn">sm</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">sm</span><span class="o">.</span><span class="n">qqplot</span><span class="p">(</span><span class="n">dahlem_clim</span><span class="o">.</span><span class="n">MO_RR</span><span class="p">,</span> <span class="n">line</span><span class="o">=</span><span class="s2">&quot;r&quot;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Figure size 1200x500 with 0 Axes&gt;
</pre></div>
</div>
<img alt="../../_images/8c67efb2778ea2811d6d720d693ad9d3b32629f1e64540641b8495a9d8dbe6a3.png" src="../../_images/8c67efb2778ea2811d6d720d693ad9d3b32629f1e64540641b8495a9d8dbe6a3.png" />
</div>
</div>
<p>Ok, looks skewed! There seems to be no normal distribution…..and 3-sigma is also not fulfilled:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">dahlem_clim</span><span class="o">.</span><span class="n">MO_RR</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">dahlem_clim</span><span class="o">.</span><span class="n">MO_RR</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(48.77950819672131, 29.232662243364572)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">median</span><span class="p">(</span><span class="n">dahlem_clim</span><span class="o">.</span><span class="n">MO_RR</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>43.150000000000006
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="transforming-the-data">
<h3>2.3. Transforming the Data<a class="headerlink" href="#transforming-the-data" title="Permalink to this heading">#</a></h3>
<p>In the prior exercise we saw that the precipitation data is not normally distributed and that calculating the mean and standard deviation violates the 3-sigma rule! Apply the “recipe” we saw in the seminar for double bounded scales (same as exercise above):</p>
<ol class="arabic simple">
<li><p>scale your variable for min-max and log transform your variable</p></li>
<li><p>Calculate statistics, Plot histogram of log-transformed data (mean and std)</p></li>
<li><p>Backtransform using exp()</p></li>
</ol>
<p>How about the 3-sigma rule now?</p>
<section id="id6">
<h4>solution<a class="headerlink" href="#id6" title="Permalink to this heading">#</a></h4>
<ol class="arabic simple">
<li><p>Min-Max Scaling</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dahlem_MO_RR_transfo</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">dahlem_clim</span><span class="o">.</span><span class="n">MO_RR</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="p">)</span>  <span class="c1"># set an equivalent copy to perform the feature scales transformation</span>

<span class="n">xmin</span> <span class="o">=</span> <span class="n">dahlem_MO_RR_transfo</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
<span class="n">xmax</span> <span class="o">=</span> <span class="n">dahlem_MO_RR_transfo</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>

<span class="c1"># transform each column by its indiv. min/max</span>
<span class="n">dahlem_MO_RR_transfo</span> <span class="o">=</span> <span class="p">(</span><span class="n">dahlem_MO_RR_transfo</span> <span class="o">-</span> <span class="n">xmin</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">xmax</span> <span class="o">-</span> <span class="n">xmin</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="2">
<li><p>Perform a logistic transformation on x′∈]0,1[ℝ</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Perform a logistic transformation on x′∈]0,1[ℝ</span>

<span class="n">dahlem_MO_RR_transfo</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">dahlem_MO_RR_transfo</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">dahlem_MO_RR_transfo</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="3">
<li><p>Histogram Plotting</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## lets plot again</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">dahlem_MO_RR_transfo</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="s2">&quot;sturges&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;lightblue&quot;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s2">&quot;grey&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/f2a23d01c988540bb0f0404d15ff2bf5ac6540fca8103567a989e012b48cc4d2.png" src="../../_images/f2a23d01c988540bb0f0404d15ff2bf5ac6540fca8103567a989e012b48cc4d2.png" />
</div>
</div>
<ol class="arabic simple" start="4">
<li><p>Calculate statistics (e.g., mean and confidence bounds…)</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m_log</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">dahlem_MO_RR_transfo</span><span class="p">)</span>
<span class="n">med_log</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">median</span><span class="p">(</span><span class="n">dahlem_MO_RR_transfo</span><span class="p">)</span>

<span class="c1">## and in addition the confidence bounds, this is just an extra here !</span>
<span class="n">CI_low</span> <span class="o">=</span> <span class="n">m_log</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">dahlem_MO_RR_transfo</span><span class="p">)</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">dahlem_MO_RR_transfo</span><span class="p">))</span>
<span class="n">CI_up</span> <span class="o">=</span> <span class="n">m_log</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">dahlem_MO_RR_transfo</span><span class="p">)</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">dahlem_MO_RR_transfo</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="5">
<li><p><strong>Backtransform</strong>: Transform these parameters back by applying exponential function. Have we resolved this issue now?</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># backtransform</span>
<span class="c1">## reverse min max und perform exp()</span>

<span class="n">corrected_mean</span> <span class="o">=</span> <span class="p">(</span><span class="n">xmin</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">xmax</span> <span class="o">-</span> <span class="n">xmin</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">m_log</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">m_log</span><span class="p">)))</span>
<span class="n">corrected_median</span> <span class="o">=</span> <span class="p">(</span><span class="n">xmin</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">xmax</span> <span class="o">-</span> <span class="n">xmin</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span>
    <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">med_log</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">med_log</span><span class="p">))</span>
<span class="p">)</span>
<span class="n">corrected_CI_low</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">CI_low</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">CI_low</span><span class="p">))</span> <span class="o">*</span> <span class="p">(</span><span class="n">xmax</span> <span class="o">-</span> <span class="n">xmin</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">xmin</span>
<span class="n">corrected_CI_up</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">CI_up</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">CI_up</span><span class="p">))</span> <span class="o">*</span> <span class="p">(</span><span class="n">xmax</span> <span class="o">-</span> <span class="n">xmin</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">xmin</span>


<span class="nb">print</span><span class="p">(</span>
    <span class="sa">f</span><span class="s2">&quot;corrected mean =&quot;</span><span class="p">,</span>
    <span class="p">{</span><span class="nb">round</span><span class="p">(</span><span class="n">corrected_mean</span><span class="p">,</span> <span class="mi">2</span><span class="p">)},</span>
    <span class="s2">&quot;corrected median=&quot;</span><span class="p">,</span>
    <span class="p">{</span><span class="nb">round</span><span class="p">(</span><span class="n">corrected_median</span><span class="p">,</span> <span class="mi">2</span><span class="p">)},</span>
    <span class="s2">&quot;confidence interval=[&quot;</span><span class="p">,</span>
    <span class="p">{</span><span class="nb">round</span><span class="p">(</span><span class="n">corrected_CI_low</span><span class="p">,</span> <span class="mi">2</span><span class="p">)},</span>
    <span class="s2">&quot;,&quot;</span><span class="p">,</span>
    <span class="p">{</span><span class="nb">round</span><span class="p">(</span><span class="n">corrected_CI_up</span><span class="p">,</span> <span class="mi">2</span><span class="p">)},</span>
    <span class="s2">&quot;]&quot;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>corrected mean = {43.06} corrected median= {43.15} confidence interval=[ {41.89} , {44.25} ]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## lets plot again</span>
<span class="n">dahlem_MO_RR_back_transfo</span> <span class="o">=</span> <span class="p">(</span><span class="n">xmin</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">xmax</span> <span class="o">-</span> <span class="n">xmin</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span>
    <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">dahlem_MO_RR_transfo</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">dahlem_MO_RR_transfo</span><span class="p">))</span>
<span class="p">)</span>


<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">dahlem_MO_RR_back_transfo</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="s2">&quot;sturges&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;lightblue&quot;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s2">&quot;grey&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">dahlem_clim</span><span class="o">.</span><span class="n">MO_RR</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="n">corrected_mean</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/4dff96b34fdc32f644f722369f3d5239aea238e5ce73ae2f4dd26dccf87488ed.png" src="../../_images/4dff96b34fdc32f644f722369f3d5239aea238e5ce73ae2f4dd26dccf87488ed.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">IFrame</span>

<span class="n">IFrame</span><span class="p">(</span>
    <span class="n">src</span><span class="o">=</span><span class="s2">&quot;../../../citation_Marie.html&quot;</span><span class="p">,</span>
    <span class="n">width</span><span class="o">=</span><span class="mi">900</span><span class="p">,</span>
    <span class="n">height</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
        <iframe
            width="900"
            height="200"
            src="../../../citation_Marie.html"
            frameborder="0"
            allowfullscreen
            
        ></iframe>
        </div></div>
</div>
</section>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./General_Introduction_Sessions/3_features_scales"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="3_Feature_scales.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">3. Feature Scales</p>
      </div>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#an-arbitrary-example">1. An Arbitrary Example</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#calculate-the-mean-and-plotting">1.1. Calculate the mean and Plotting</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#solution">solution</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#noticing-the-bounds-and-resolving-them">1.2. Noticing the bounds and resolving them</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#min-max-scaling">1.2.1. Min-Max-Scaling</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">solution</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#perform-a-logistic-transformation-on-x-0-1">1.2.2. Perform a logistic transformation on x′∈]0,1[ℝ</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">solution</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#backtransform">1.3. Backtransform</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">solution</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#working-with-real-data">2. Working with real Data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dwd-data">DWD data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#subsetting-the-data-frame">2.1. Subsetting the data frame</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">solution</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#checking-for-normality">2.2. Checking for Normality</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">solution</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#transforming-the-data">2.3. Transforming the Data</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">solution</a></li>
</ul>
</li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By The Jupyter Book Community
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>